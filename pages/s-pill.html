<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Pill Statistik</title>
  <link rel="stylesheet" href="../css/profile-acc.css">
  <link rel="stylesheet" href="../css/style-spill.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Nav -->
    <div class="navbar">
        <div class="logo">
            <h1 class="main-text first">Belly</h1>
            <h1 class="main-text second">Plus</h1>
        </div>
        <div class="search">
            <input type="text" placeholder="Cari Fitur. . ." class="search-input" />
            <div class="search-results" style="color: black;"></div>
        </div>
        <div class="acc" id="acc-desktop" style="color: black;">
            <div class="button log-in">Masuk</div>
            <div class="button sign-in">Daftar</div>
        </div>
        <div class="burger" id="burger">
            <svg width="30" height="30" viewBox="0 0 100 80" fill="black">
                <rect width="100" height="15" rx="8"></rect>
                <rect y="30" width="100" height="15" rx="8"></rect>
                <rect y="60" width="100" height="15" rx="8"></rect>
            </svg>
        </div>
    </div>
    
    <nav class="nav-links" id="nav-links">
        <div class="burger" id="burger-close">
            <svg width="30" height="30" viewBox="0 0 100 80" fill="black">
                <rect width="100" height="15" rx="8"></rect>
                <rect y="30" width="100" height="15" rx="8"></rect>
                <rect y="60" width="100" height="15" rx="8"></rect>
            </svg>
        </div>
        <a href="#top">Home</a>
        <a href="#features">Fitur-Fitur</a>
        <a href="#">Services</a>
        <a href="#">Contact</a>
        <div class="acc android" id="acc-mobile">
            <div class="button log-in">Masuk</div>
            <div class="button sign-in">Daftar</div>
        </div>
        <div class="search-mobile">
            <input id="search-android" type="text" placeholder="Cari Fitur. . ." class="search-input" />
            <div class="search-results"></div>
        </div>
    </nav>
    <div class="box-hider"></div>
    <!-- End Nav -->
  <div class="container">
    <div class="dashboard">
      <header class="dashboard-header">
        <h1 style="color: black;">Smart Pill Tracker</h1>
        <div class="user-controls" id="userControls">
        </div>
      </header>

      <main class="dashboard-main">
        <!-- Profile Card -->
        <section class="card profile-card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-user-circle"></i>
              Profil Pengguna
            </h2>
            <span class="badge">Aktif</span>
          </div>
          
          <div class="profile-info">
            <img id="user-avatar" src="https://ui-avatars.com/api/?name=BP&background=ef4444&color=fff" alt="User avatar" class="profile-avatar">
            <div class="profile-details">
              <h3 class="profile-name" id="statName">Guest</h3>
              <p class="profile-id" id="statBellyId">ID: BP-GUEST</p>
            </div>
          </div>
          
          <div class="profile-stats">
            <div class="stat-item">
              <div class="stat-value" id="statPills">0</div>
              <div class="stat-label">Obat</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="statCompliance">0%</div>
              <div class="stat-label">Kepatuhan</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="statDays">0</div>
              <div class="stat-label">Hari</div>
            </div>
          </div>

          <button id="resetDataBtn" class="btn btn-danger">Reset Semua Data</button>
        </section>

        <!-- Medicine Card -->
        <section class="card" id="medicineCard">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-pills"></i>
              Informasi Obat
            </h2>
            <button class="btn btn-outline btn-sm" id="addMedicineBtn">
              <i class="fas fa-plus"></i> Tambah Obat
            </button>
          </div>
          
          <div class="empty-state" id="medicineEmptyState">
            <div class="empty-state-icon">
              <i class="fas fa-pills"></i>
            </div>
            <h3 class="empty-state-text">Belum ada obat yang ditambahkan</h3>
            <button class="btn btn-primary" id="addFirstMedicineBtn">
              <i class="fas fa-plus"></i> Tambah Obat Pertama
            </button>
          </div>
          
          <div id="medicineContent" style="display: none;">
            <div class="medicine-info">
              <div class="medicine-image">
                <i class="fas fa-pills fa-2x"></i>
              </div>
              <div class="medicine-details">
                <h3 class="medicine-name" id="medicineName">-</h3>
                <p class="medicine-id" id="medicineId">ID: -</p>
                
                <div class="medicine-property">
                  <i class="fas fa-tag" aria-hidden="true"></i>
                  <span id="medicineType">-</span>
                </div>
                <div class="medicine-property">
                  <i class="fas fa-heartbeat" aria-hidden="true"></i>
                  <span id="medicineBenefit">-</span>
                </div>
                <div class="medicine-property">
                  <i class="fas fa-utensils" aria-hidden="true"></i>
                  <span id="medicineInstruction">-</span>
                </div>
                <div class="medicine-property">
                  <i class="fas fa-clock" aria-hidden="true"></i>
                  <span id="medicineFrequency">-</span>
                </div>
              </div>
              <div class="medicine-actions">
                <button class="btn btn-primary" id="changeMedicineBtn">
                  <i class="fas fa-exchange-alt"></i> Ganti Obat
                </button>
                <button class="btn btn-outline" id="editMedicineBtn">
                  <i class="fas fa-edit"></i> Edit
                </button>
                <button class="btn btn-outline btn-danger" id="deleteMedicineBtn">
                  <i class="fas fa-trash"></i> Hapus
                </button>
              </div>
            </div>
          </div>
        </section>

        <!-- Schedule Card -->
        <section class="card schedule-card" id="scheduleCard">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-calendar-alt"></i>
              Jadwal Hari Ini
            </h2>
            <span id="currentDate">-</span>
          </div>
          
          <div class="empty-state" id="scheduleEmptyState">
            <div class="empty-state-icon">
              <i class="fas fa-calendar-alt"></i>
            </div>
            <h3 class="empty-state-text">Tambahkan obat untuk melihat jadwal</h3>
          </div>
          
          <div id="scheduleContent" style="display: none;">
            <div class="compliance-meter">
              <div class="meter-gauge">
                <svg class="gauge-circle" viewBox="0 0 100 100">
                  <circle class="gauge-bg" cx="50" cy="50" r="40"></circle>
                  <circle class="gauge-progress" cx="50" cy="50" r="40"></circle>
                </svg>
                <div class="gauge-value" id="complianceValue">0%</div>
              </div>
              <div>
                <p><strong>Kepatuhan Hari Ini</strong></p>
                <p class="text-secondary" id="complianceText">0 dari 0 dosis</p>
              </div>
            </div>
            
            <ul class="schedule-list" id="scheduleList">
              <!-- Schedule items will be added here dynamically -->
            </ul>
          </div>
        </section>

        <!-- Facts Card -->
        <section class="card">
          <div class="card-header">
            <h2 class="card-title">
              <i class="fas fa-lightbulb"></i>
              Fakta Medis
            </h2>
            <span class="badge">Baru</span>
          </div>
          
          <div class="fact-item highlight">
            <h3 class="fact-title">Efektivitas Pengobatan</h3>
            <p class="fact-content">Minum obat secara teratur bisa meningkatkan efektivitas pengobatan hingga 80% dibandingkan dengan penggunaan yang tidak teratur.</p>
          </div>
          
          <div class="fact-item">
            <h3 class="fact-title">Masalah Global</h3>
            <p class="fact-content">WHO menyatakan kurang patuh minum obat adalah masalah kesehatan global yang mempengaruhi 50% pasien penyakit kronis.</p>
          </div>
          
          <div class="fact-item">
            <h3 class="fact-title">Kesehatan Jangka Panjang</h3>
            <p class="fact-content">Pasien yang patuh terhadap pengobatan memiliki risiko rawat inap 30% lebih rendah dibandingkan yang tidak patuh.</p>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Simplified Add Medicine Modal -->
  <div class="modal" id="medicineModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="medicineModalTitle">Tambah Obat Baru</h2>
        <button class="modal-close" id="closeMedicineModal">&times;</button>
      </div>
      <form id="medicineForm">
        <input type="hidden" id="medicineEditId">
        
        <div class="form-group">
          <label for="medicineNameInput">Nama Obat</label>
          <input type="text" id="medicineNameInput" placeholder="Contoh: Paracetamol" required list="medicineOptions">
          <datalist id="medicineOptions">
            <!-- Options will be added by JavaScript -->
          </datalist>
        </div>
        
        <div class="form-group">
          <label for="reminderTime">Waktu Pengingat</label>
          <select id="reminderTime" class="form-select">
            <option value="08:00">Pagi (08:00)</option>
            <option value="12:00">Siang (12:00)</option>
            <option value="16:00">Sore (16:00)</option>
            <option value="20:00">Malam (20:00)</option>
          </select>
        </div>

        <div class="form-actions">
          <button type="button" id="testReminderBtn" class="btn btn-outline">
            <i class="fas fa-bell"></i> Tes Pengingat
          </button>
          <button type="button" class="btn btn-outline" id="cancelMedicineBtn">Batal</button>
          <button type="submit" class="btn btn-primary">Simpan</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Select Medicine Modal -->
  <div class="modal" id="selectMedicineModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Pilih Obat</h2>
        <button class="modal-close" id="closeSelectMedicineModal">&times;</button>
      </div>
      <div id="medicineListContainer">
        <p>Memuat daftar obat...</p>
      </div>
      <div class="form-actions">
        <button class="btn btn-primary" id="addNewMedicineFromListBtn">
          <i class="fas fa-plus"></i> Tambah Obat Baru
        </button>
      </div>
    </div>
  </div>

  <!-- History Modal -->
  <div class="modal" id="historyModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Riwayat Obat</h2>
        <button class="modal-close" id="closeHistoryModal">&times;</button>
      </div>
      <div id="historyList">
        <p>Memuat riwayat...</p>
      </div>
    </div>
  </div>

  <div class="container" id="formPage">
    <form id="userForm" class="card input-card">
      <h2><i class="fas fa-user-plus"></i> Data Pengguna</h2>
      <div class="form-group">
        <label for="name">Nama Lengkap</label>
        <input type="text" id="name" placeholder="Masukkan Nama" required />
      </div>
      <div class="form-group">
        <label for="bellyId">ID BellyPlus</label>
        <input type="text" id="bellyId" placeholder="Contoh: BP-XXXXXX" required />
      </div>
      <button type="submit"><i class="fas fa-bell"></i>Masuk</button>
      <button type="button" onclick="document.getElementById('formPage').style.display='none'">Tutup</button>
    </form>
  </div>

  <script src="../js/s-pill.js"></script>
  <script src="../js/readdata.js"></script>
  <script src="../js/navlink.js"></script>
  <script src="search-pages.js"></script>
</body>
</html>